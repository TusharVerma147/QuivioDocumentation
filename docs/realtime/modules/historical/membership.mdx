
# Membership

The Membership  in the Historical Screen provides a detailed breakdown of membership performance, including new and recurring memberships over a specific period.

<figure> <img src="/img/inventory/membership.png" alt="This is an example image  of Membership Data" width="300" height="600" /></figure>

## Overview

The Membership component allows users to:

- Analyze new vs recurring memberships.
- Visualize membership data using charts.
- Apply custom date range filters.
- Refresh membership data dynamically.

## Key Features

- **Membership Breakdown**:  Displays counts of new and recurring memberships.
- **Chart Representation**: Provides visual insights with bar and line charts.
- **Custom Date Filters**: Enables custom date selection for analysis.
                   

## Code Structure

### State Management

The Membership component uses the following state:

```javascript
const initialState = {
  membershipData: [],
  startDate: '',
  endDate: '',
  isLoading: false,
};
const [state, updateState] = useSimpleReducer(initialState);
```

### Event Handlers

- **handleDateChange**: Filters membership data based on the selected date range.
- **handleRefresh**: Reloads membership data dynamically.

### API Integration

- **getMembershipDataAPI**: Fetches historical membership data for the specified date range.

**Membership Data**:
```javascript
curl -X GET "https://checkpointqa-api.quivio.com/historical/membership?type=2&siteId=1&startDate=2025-02-02&endDate=2025-02-08" \
-H "Accept: application/json, text/plain, */*" \
-H "Content-Type: application/json" \
-H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjk5NDM5NiwidXNlck5hbWUiOiJkZXYxIiwiZGV2aWNlSWQiOiI2MTNlY2UxYi1jNTIyLTRhNzktYTA4YS04NGY1YmUxNzIxYWIiLCJzdWJkb21haW5fcXVhbGlmaWVyIjoicGFwYWJlYXIiLCJpYXQiOjE3Mzg2NjA3NTcsImV4cCI6MTc0MTI1Mjc1N30.cknoFbiY-PPHdXtsLtZzEp0OY3olmZwpCkcrsxPhsBU" \
-H "timezone: -300" \
-H "deviceid: 613ece1b-c522-4a79-a08a-84f5be1721ab" \
--max-time 600
```

**Response**:
```javascript
{
    "statusCode": 200,
    "message": "Success.",
    "data": {
        "buttons": [
            {
                "title": "New Member Count",
                "value": 45
            },
            {
                "title": "Membership Value",
                "value": 1534.55
            }
        ],
        "graph": {
            "MEMBER_COUNT": [
                {
                    "date": "2025-02-02",
                    "value": 33
                },
                {
                    "date": "2025-02-03",
                    "value": 12
                },
                {
                    "date": "2025-02-04",
                    "value": 0
                },
                {
                    "date": "2025-02-05",
                    "value": 0
                },
                {
                    "date": "2025-02-06",
                    "value": 0
                },
                {
                    "date": "2025-02-07",
                    "value": 0
                },
                {
                    "date": "2025-02-08",
                    "value": 0
                }
            ],
            "MEMBER_VALUE": [
                {
                    "date": "2025-02-02",
                    "value": 1169.67
                },
                {
                    "date": "2025-02-03",
                    "value": 364.88
                },
                {
                    "date": "2025-02-04",
                    "value": 0
                },
                {
                    "date": "2025-02-05",
                    "value": 0
                },
                {
                    "date": "2025-02-06",
                    "value": 0
                },
                {
                    "date": "2025-02-07",
                    "value": 0
                },
                {
                    "date": "2025-02-08",
                    "value": 0
                }
            ]
        }
    }
}
```

## Analytics

Logs API interactions:

```javascript
AnalyticsService.logEvent(EVENTS.MEMBERSHIP_DATA_SUCCESS);
AnalyticsService.logEvent(EVENTS.MEMBERSHIP_DATA_FAILED, { error: error?.message })
```

## Navigation

The Membership component is accessible via the tab-based navigation in the Historical Screen.





